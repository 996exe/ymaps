(function (modulesNames, globalNs) {
    var utilDeps = ['system.mergeImports', 'util.extend'];

    ym.modules.define('ym', utilDeps.concat(modulesNames), function (provide, mergeImports, extend) {
        var modules = Array.prototype.slice.call(arguments, utilDeps.length + 1),
            ns = mergeImports.joinImports(this.name, {}, modulesNames, modules);

        if (globalNs) {
            extend(globalNs, ns);
        }

        provide(ns);
    });
})